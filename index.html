<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Nairobi Locals â€“ Adults Only</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body { font-family: Arial, sans-serif; margin:0; background:#f4f4f4; }
.hidden { display:none; }
.container { max-width:900px; margin:auto; padding:20px; }
.card { background:#fff; padding:20px; margin-bottom:20px; border-radius:6px; }
header { background:#111; color:#fff; padding:15px; text-align:center; }
button { padding:10px 15px; border:none; border-radius:4px; cursor:pointer; }
.primary { background:#c62828; color:#fff; }
.secondary { background:#333; color:#fff; }
input, select { width:100%; padding:8px; margin:6px 0; }
.provider-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:15px; }
.error { color:red; }
.success { color:green; }
</style>
</head>

<body>

<!-- AGE GATE -->
<div id="ageGate" class="container">
  <div class="card">
    <h1>ðŸ”ž Adults Only (18+)</h1>
    <p>You must be 18+ to enter Nairobi Locals.</p>
    <button class="primary" onclick="enterSite()">I am 18 or Older</button>
  </div>
</div>

<!-- MAIN SITE -->
<div id="mainSite" class="hidden">

<header>
  <h1>Nairobi Locals</h1>
  <p>Adult Services Marketplace</p>
  <button class="secondary" onclick="toggleAuth()">Offer Services?</button>
</header>

<div class="container">

<!-- PROVIDER AUTH -->
<div id="providerAuth" class="card hidden">
  <h2>Provider Login / Register</h2>
  <input id="email" placeholder="Email">
  <input id="password" type="password" placeholder="Password">
  <button class="primary" onclick="register()">Register</button>
  <button class="secondary" onclick="login()">Login</button>
  <p id="authMsg"></p>
</div>

<!-- PROVIDER DASHBOARD -->
<div id="dashboard" class="card hidden">
  <h2>Provider Dashboard</h2>
  <input id="name" placeholder="Display Name">
  <input id="location" placeholder="Location">
  <input id="phone" placeholder="Phone / WhatsApp">
  <select>
    <option>Massage</option>
    <option>Incalls</option>
    <option>Outcalls</option>
  </select>
  <button class="primary" onclick="saveProfile()">Save Profile</button>
  <button class="secondary" onclick="logout()">Logout</button>
  <p id="dashMsg"></p>
</div>

<!-- PUBLIC LISTINGS -->
<div class="card">
  <h2>Sample Providers</h2>
  <div class="provider-grid">
    <div class="card">
      <h3>Ruby â€“ Westlands</h3>
      <p>Massage â€¢ Incalls</p>
      <button class="secondary" onclick="location.href='tel:+254700000001'">Call</button>
      <button class="primary" onclick="location.href='https://wa.me/254700000001'">WhatsApp</button>
    </div>
  </div>
</div>

</div>
</div>

<script>
function enterSite(){
  localStorage.setItem("ageVerified","yes");
  ageGate.style.display="none";
  mainSite.style.display="block";
}

window.onload=function(){
  if(localStorage.getItem("ageVerified")==="yes"){
    ageGate.style.display="none";
    mainSite.style.display="block";
  }
  if(localStorage.getItem("loggedIn")==="yes"){
    dashboard.classList.remove("hidden");
  }
}

function toggleAuth(){
  providerAuth.classList.toggle("hidden");
}

function register(){
  const e=email.value.trim();
  const p=password.value.trim();
  if(!e || !p){
    authMsg.innerHTML="<span class='error'>Email & password required</span>";
    return;
  }
  localStorage.setItem("provEmail", e);
  localStorage.setItem("provPass", p);
  authMsg.innerHTML="<span class='success'>Registered. Now login.</span>";
}

function login(){
  const e=email.value.trim();
  const p=password.value.trim();
  if(!e || !p){
    authMsg.innerHTML="<span class='error'>Enter email & password</span>";
    return;
  }
  if(
    e===localStorage.getItem("provEmail") &&
    p===localStorage.getItem("provPass")
  ){
    localStorage.setItem("loggedIn","yes");
    providerAuth.classList.add("hidden");
    dashboard.classList.remove("hidden");
  } else {
    authMsg.innerHTML="<span class='error'>Invalid credentials</span>";
  }
}

function saveProfile(){
  dashMsg.innerHTML="<span class='success'>Profile saved (demo)</span>";
}

function logout(){
  localStorage.removeItem("loggedIn");
  dashboard.classList.add("hidden");
}
</script>

</body>
</html>
