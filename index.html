<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Nairobi Locals</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>

<style>
body{font-family:Arial;background:#f6f6f6;margin:0}
header{background:#b30000;color:#fff;padding:15px;text-align:center}
section{padding:15px}
.card{background:#fff;padding:15px;margin-bottom:15px;border-radius:6px}
button{padding:10px 15px;background:#b30000;color:#fff;border:none;border-radius:4px;cursor:pointer}
input,select,textarea{width:100%;padding:8px;margin:5px 0}
.hidden{display:none}
.provider img{width:100%;border-radius:6px}
footer{background:#111;color:#fff;padding:15px;font-size:13px}
small{color:#555}
</style>
</head>

<body>

<header>
<h1>Nairobi Locals</h1>
<p>Local Services Marketplace</p>
<button onclick="showProviderAuth()">Want to offer services?</button>
</header>

<!-- PUBLIC MARKETPLACE -->
<section id="publicView">

<div class="card">
<h3>Find Services</h3>
<select>
<option>Nairobi</option>
<option>Westlands</option>
<option>Kilimani</option>
<option>CBD</option>
<option>Eastlands</option>
</select>
</div>

<div class="card provider">
<img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2">
<h3>Grace – Premium Massage</h3>
<p>Location: Westlands</p>
<p>Available for private sessions</p>
<a href="tel:+254700000000"><button>Call Now</button></a>
<a href="https://wa.me/254700000000"><button>WhatsApp</button></a>
</div>

<div class="card provider">
<img src="https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e">
<h3>Lynn – Relaxation Specialist</h3>
<p>Location: Kilimani</p>
<p>Discreet & professional</p>
<a href="tel:+254711000000"><button>Call Now</button></a>
<a href="https://wa.me/254711000000"><button>WhatsApp</button></a>
</div>

<div class="card">
<h3>Send Inquiry</h3>
<input id="inqName" placeholder="Your Name">
<input id="inqEmail" placeholder="Your Email">
<textarea id="inqMsg" placeholder="Your message"></textarea>
<button onclick="sendInquiry()">Send</button>
<p id="inqStatus"></p>
</div>

</section>

<!-- PROVIDER AUTH -->
<section id="providerAuth" class="hidden">
<div class="card">
<h3>Service Provider Login / Register</h3>
<input id="email" placeholder="Email">
<input id="password" type="password" placeholder="Password">
<button onclick="login()">Login</button>
<button onclick="register()">Register</button>
<button onclick="resetPassword()">Forgot Password?</button>
<p id="authStatus"></p>
</div>
</section>

<!-- PROVIDER DASHBOARD -->
<section id="dashboard" class="hidden">
<div class="card">
<h3>Provider Dashboard</h3>
<p><strong>Status:</strong> Free listing (24 hours)</p>

<input type="file" id="photo">
<select>
<option>Standard Listing</option>
<option>VIP Listing (+150)</option>
<option>Sponsored Profile</option>
</select>

<button onclick="alert('Package selected. Payment integration next step.')">
Select Package
</button>

<p><small>Your profile is private until approved.</small></p>
<button onclick="logout()">Logout</button>
</div>
</section>

<footer>
<p><strong>Disclaimer:</strong> Nairobi Locals is a listing platform. We do not directly offer services.</p>
<p>Support: <a style="color:#fff" href="mailto:workwithbyram@gmail.com">workwithbyram@gmail.com</a></p>
<p>Invite others: <span id="inviteLink"></span></p>
</footer>

<script>
// FIREBASE CONFIG (YOUR REAL CONFIG)
firebase.initializeApp({
 apiKey: "AIzaSyD88iH62FmlfY13LF3pDoE7MmRR76JSboI",
 authDomain: "local-service-hub-26b50.firebaseapp.com",
 projectId: "local-service-hub-26b50",
 storageBucket: "local-service-hub-26b50.appspot.com",
 messagingSenderId: "397740156836",
 appId: "1:397740156836:web:dc30fc4a0b3188bac68331"
});

const auth = firebase.auth();

function showProviderAuth(){
 document.getElementById("publicView").style.display="none";
 document.getElementById("providerAuth").style.display="block";
}

function register(){
 auth.createUserWithEmailAndPassword(
  email.value,password.value
 ).then(()=>{
  authStatus.innerText="Registered successfully";
 }).catch(e=>authStatus.innerText=e.message);
}

function login(){
 auth.signInWithEmailAndPassword(
  email.value,password.value
 ).then(()=>{
  providerAuth.style.display="none";
  dashboard.style.display="block";
 }).catch(e=>authStatus.innerText=e.message);
}

function resetPassword(){
 auth.sendPasswordResetEmail(email.value)
 .then(()=>authStatus.innerText="Password reset email sent");
}

function logout(){
 auth.signOut();
 location.reload();
}

function sendInquiry(){
 document.getElementById("inqStatus").innerText=
 "Message sent. We will respond via email.";
}

document.getElementById("inviteLink").innerText=location.href;
</script>

</body>
</html>
