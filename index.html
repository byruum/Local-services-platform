<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Nairobi Locals</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{font-family:Arial;margin:0;background:#111;color:#eee}
header{background:#000;padding:15px;text-align:center}
h1{color:#e63946}
button{padding:10px 15px;border:none;border-radius:5px;cursor:pointer}
.primary{background:#e63946;color:#fff}
.whatsapp{background:#25D366;color:#fff}
.call{background:#007bff;color:#fff}
.card{background:#1c1c1c;margin:10px;padding:15px;border-radius:10px}
.hidden{display:none}
input,select,textarea{width:100%;padding:8px;margin:5px 0;border-radius:5px;border:none}
small{color:#aaa}
.disclaimer{background:#2a0000;padding:15px;margin:10px;border-left:5px solid red}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:10px}
img{width:100%;border-radius:10px}
</style>
</head>

<body>

<header>
<h1>Nairobi Locals</h1>
<p>Adult Services Marketplace â€“ 18+ Only</p>
</header>

<div class="disclaimer">
<strong>DISCLAIMER:</strong><br>
This platform is strictly for adults aged 18 and above. Nairobi Locals does not provide escort services directly. We act only as an advertising platform. All interactions are between consenting adults. Any illegal activity is strictly prohibited.
</div>

<!-- PUBLIC MARKETPLACE -->
<section id="marketplace">
<h2 style="padding:10px">Available Providers</h2>

<select id="filterLocation" onchange="renderProviders()">
<option value="">All Locations</option>
<option>CBD</option>
<option>Embakasi</option>
<option>Westlands</option>
<option>Kasarani</option>
</select>

<div id="providerList" class="grid"></div>
</section>

<!-- OFFER SERVICES -->
<section style="padding:15px">
<h2>Want to offer services?</h2>
<p>Create an account or login if you are already a service provider.</p>
<button class="primary" onclick="showRegister()">Create Account / Login</button>
</section>

<!-- REGISTER / LOGIN -->
<section id="auth" class="hidden">
<div class="card">
<h3>Provider Login</h3>
<input id="loginEmail" placeholder="Email">
<input id="loginPassword" type="password" placeholder="Password">
<button class="primary" onclick="login()">Login</button>
<p id="loginMsg"></p>
<hr>
<h3>Register (Free 24 Hours)</h3>
<input id="rName" placeholder="Full Name">
<input id="rPhone" placeholder="Phone Number">
<input id="rEmail" placeholder="Email">
<input id="rPassword" type="password" placeholder="Password">
<button class="primary" onclick="register()">Register</button>
</div>
</section>

<!-- PROVIDER DASHBOARD -->
<section id="dashboard" class="hidden">
<div class="card">
<h2>Provider Dashboard</h2>
<p style="color:red;font-weight:bold">Free listing active for 24 hours</p>

<input id="pLocation" placeholder="Main Location (e.g. Embakasi)">
<input id="pSub" placeholder="Sub Location (Pipeline, Fedha, Tassia)">
<textarea id="pServices" placeholder="Services: Incall, Outcall, Dinner, Extras"></textarea>
<input id="pPrice" placeholder="Prices (150 daily, 400/4days, 1200/month)">
<input type="file" id="pPhoto" multiple>
<button class="primary" onclick="saveProfile()">Save Listing</button>

<p id="dashMsg"></p>
<button onclick="logout()">Logout</button>
</div>
</section>

<script>
let providers=[
{
name:"Lena",
location:"CBD",
phone:"0700000001",
img:"https://images.unsplash.com/photo-1544005313-94ddf0286df2",
services:"Incall & Outcall",
price:"Ksh 1500",
},
{
name:"Maya",
location:"Westlands",
phone:"0700000002",
img:"https://images.unsplash.com/photo-1544725176-7c40e5a2c9f9",
services:"Dinner & Massage",
price:"Ksh 2000",
}
];

let currentUser=null;

function renderProviders(){
let loc=document.getElementById("filterLocation").value;
let list=document.getElementById("providerList");
list.innerHTML="";
providers.filter(p=>!loc||p.location===loc).forEach(p=>{
list.innerHTML+=`
<div class="card">
<img src="${p.img}">
<h3>${p.name}</h3>
<p>${p.services}</p>
<p><strong>${p.price}</strong></p>
<button class="call" onclick="location.href='tel:${p.phone}'">Call Now</button>
<button class="whatsapp" onclick="location.href='https://wa.me/254${p.phone.slice(1)}'">WhatsApp</button>
</div>`;
});
}

renderProviders();

function showRegister(){
document.getElementById("auth").classList.remove("hidden");
}

function register(){
let user={
name:rName.value,
phone:rPhone.value,
email:rEmail.value,
password:rPassword.value,
freeUntil:Date.now()+86400000
};
localStorage.setItem("prov_"+user.email,JSON.stringify(user));
currentUser=user;
openDashboard();
}

function login(){
let key="prov_"+loginEmail.value;
let u=JSON.parse(localStorage.getItem(key));
if(!u||u.password!==loginPassword.value){
loginMsg.innerText="Invalid login";
return;
}
currentUser=u;
openDashboard();
}

function openDashboard(){
document.getElementById("auth").classList.add("hidden");
document.getElementById("dashboard").classList.remove("hidden");
}

function saveProfile(){
providers.push({
name:currentUser.name,
location:pLocation.value,
phone:currentUser.phone,
img:"https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e",
services:pServices.value,
price:pPrice.value
});
dashMsg.innerText="Listing saved and live!";
renderProviders();
}

function logout(){
location.reload();
}
</script>

</body>
</html>
