<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Nairobi Locals â€“ Adult Services Platform</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body { font-family: Arial, sans-serif; margin:0; background:#f5f5f5; }
header { background:#111; color:white; padding:15px; text-align:center; }
section { padding:20px; }
.card { background:white; padding:15px; margin-bottom:15px; border-radius:5px; }
button { padding:10px 15px; cursor:pointer; }
.hidden { display:none; }
input, select { padding:8px; width:100%; margin:5px 0; }
.disclaimer { font-size:12px; color:#555; }
</style>
</head>

<body>

<header>
<h1>Nairobi Locals</h1>
<p>Professional Adult Companionship Platform (18+ Only)</p>
</header>

<section class="card">
<h2>Browse Providers</h2>

<select id="locationFilter">
<option value="">Select Area</option>
<option>CBD</option>
<option>Westlands</option>
<option>Embakasi</option>
<option>Kasarani</option>
<option>Kilimani</option>
</select>

<select id="subLocationFilter">
<option value="">Sub-location</option>
<option>Pipeline</option>
<option>Tassia</option>
<option>Fedha</option>
<option>Donholm</option>
<option>Umoja</option>
<option>Ngara</option>
</select>

<p>Sample Provider (Demo)</p>
<button onclick="window.location='tel:0705283274'">Call</button>
<button onclick="window.location='https://wa.me/254705283274'">WhatsApp</button>
</section>

<section class="card disclaimer">
<strong>Disclaimer:</strong><br>
This platform is strictly for adults aged 18 and above. All services listed are professional companionship services. Explicit sexual acts are not advertised or promoted. Users are responsible for complying with local laws and regulations.
</section>

<!-- PROVIDER LOGIN -->
<section id="providerLogin" class="card">
<h2>Provider Login</h2>
<input type="email" id="email" placeholder="Email">
<input type="password" id="password" placeholder="Password">
<button onclick="login()">Login</button>
<p id="loginStatus"></p>
</section>

<!-- PROVIDER DASHBOARD -->
<section id="providerDashboard" class="card hidden">
<h2>Provider Dashboard</h2>

<label>Display Name</label>
<input id="providerName">

<label>Location</label>
<input id="providerLocation">

<label>Price Plan</label>
<select id="pricePlan">
<option value="150">KES 150 / day</option>
<option value="400">KES 400 / 4 days</option>
<option value="1200">KES 1200 / month</option>
</select>

<button onclick="saveProvider()">Save Profile</button>
<button onclick="logout()">Logout</button>

<p>Status: Pending Approval</p>
</section>

<!-- ADMIN LOGIN -->
<section id="adminLogin" class="card">
<h2>Admin Login</h2>
<input type="email" id="adminEmail" placeholder="Admin Email">
<input type="password" id="adminPassword" placeholder="Password">
<button onclick="adminLogin()">Login</button>
<p id="adminStatus"></p>
</section>

<!-- ADMIN DASHBOARD -->
<section id="adminDashboard" class="card hidden">
<h2>Admin Dashboard</h2>
<p>Admin controls active.</p>
<ul>
<li>Approve Providers</li>
<li>Manage Listings</li>
<li>View Payments</li>
</ul>
<button onclick="logout()">Logout</button>
</section>

<!-- FIREBASE -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey: "PASTE_YOURS",
  authDomain: "PASTE_YOURS",
  projectId: "PASTE_YOURS",
};
firebase.initializeApp(firebaseConfig);

const auth = firebase.auth();
const db = firebase.firestore();

function login() {
  auth.signInWithEmailAndPassword(
    email.value,
    password.value
  ).then(() => {
    providerLogin.classList.add("hidden");
    providerDashboard.classList.remove("hidden");
  }).catch(err => loginStatus.innerText = err.message);
}

function adminLogin() {
  auth.signInWithEmailAndPassword(
    adminEmail.value,
    adminPassword.value
  ).then(cred => {
    return db.collection("users").doc(cred.user.uid).get();
  }).then(doc => {
    if (doc.data().role !== "admin") throw "Not admin";
    adminLogin.classList.add("hidden");
    adminDashboard.classList.remove("hidden");
  }).catch(err => adminStatus.innerText = err);
}

function saveProvider() {
  const user = auth.currentUser;
  db.collection("providers").doc(user.uid).set({
    name: providerName.value,
    location: providerLocation.value,
    price: pricePlan.value,
    active: false,
    createdAt: new Date()
  });
  alert("Saved. Await admin approval.");
}

function logout() {
  auth.signOut();
  location.reload();
}
</script>

</body>
</html>
