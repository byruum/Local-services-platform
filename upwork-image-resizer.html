<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Upwork Image Resizer – 4000×4000</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  font-family: Arial, sans-serif;
  background:#f4f6f9;
  margin:0;
  padding:0;
}
.container {
  max-width:600px;
  margin:50px auto;
  background:#fff;
  padding:25px;
  border-radius:10px;
  box-shadow:0 4px 12px rgba(0,0,0,.1);
}
h1 {
  text-align:center;
  color:#0d6efd;
}
p {
  font-size:14px;
  color:#444;
}
input[type=file] {
  width:100%;
  margin:15px 0;
}
button {
  width:100%;
  padding:12px;
  background:#dc2626;
  color:#fff;
  border:none;
  border-radius:6px;
  font-size:16px;
  cursor:pointer;
}
button:hover {
  background:#b91c1c;
}
.note {
  margin-top:15px;
  font-size:12px;
  color:#666;
}
canvas {
  display:none;
}
</style>
</head>

<body>

<div class="container">
  <h1>Upwork Image Resizer</h1>
  <p>
    Automatically converts your image to the
    <strong>exact Upwork-required size: 4000 × 4000 pixels</strong>.
    Image is center-cropped first to avoid distortion.
  </p>

  <input type="file" id="upload" accept="image/*">
  <button onclick="processImage()">Convert to 4000×4000</button>

  <p class="note">
    Output: JPG · 4000×4000 · High quality<br>
    Note: Some phone photos may still fail due to hidden metadata.
  </p>

  <canvas id="canvas"></canvas>
</div>

<script>
function processImage() {
  const input = document.getElementById('upload');
  if (!input.files.length) {
    alert("Please select an image");
    return;
  }

  const file = input.files[0];
  const img = new Image();
  const reader = new FileReader();

  reader.onload = e => img.src = e.target.result;
  reader.readAsDataURL(file);

  img.onload = () => {
    const size = Math.min(img.width, img.height);
    const sx = (img.width - size) / 2;
    const sy = (img.height - size) / 2;

    const canvas = document.getElementById('canvas');
    canvas.width = 4000;
    canvas.height = 4000;

    const ctx = canvas.getContext('2d');
    ctx.imageSmoothingQuality = "high";
    ctx.drawImage(img, sx, sy, size, size, 0, 0, 4000, 4000);

    const link = document.createElement('a');
    link.download = "upwork-4000x4000.jpg";
    link.href = canvas.toDataURL("image/jpeg", 0.95);
    link.click();
  };
}
</script>

</body>
</html>
